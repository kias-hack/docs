Для отправки почты из консоли можно использовать следующую команду (данная команда работает на основе exim4)

>/usr/sbin/sendmail -i -t -f `адрес отправителя а также адрес возврата сообщения` < mail.txt

содержимое файла mail.txt

```
To: test@test.ru
Subject: subject mail

Body email message
```

Ссылка на документацию по exim4 https://www.lissyara.su/doc/exim/4.70/introduction/

Статья про настройку DKIM в exim https://habr.com/ru/post/173605/

# Для хорошей репутации почтовых сообщений нужно настроить записи SPF, DKIM, DMARC

SPF
========

SPF укзаывает адреса которые могуть отправлять с указанного в отправителе адреса
SPF запись указывается для самого домена (your.tld)
Пример записи SPF
> v=spf1 a mx ip4:188.124.42.10 ~all

DKIM
========

DKIM хранит публичный ключ. DKIM запись указывается для самого домена (dkim._domainkey.your.tld)

где dkim это селектор, используется для нескольких dkim записей

Пример записи DKIM
> v=DKIM1; h=sha256; k=rsa; s=email; p=`public_key`

DMARC
========

DMARC — это техническая спецификация, созданная группой организаций, предназначенная для снижения количества спамовых и 
фишинговых электронных писем, основанная на идентификации почтовых доменов отправителя на основании правил и признаков, 
заданных на почтовом сервере получателя (Wiki). То есть почтовый сервер сам решает, хорошее сообщение или плохое (допустим, 
исходя из политик выше) и действует согласно DMARC записи.

1. v — версия, принимает значение v=DMARC1 (обязательный параметр)
2. p — правило для домена. (Обязательный параметр) Может принимать значения none, quarantine и reject, где
3. p=none не делает ничего, кроме подготовки отчетов
4. p=quarantine добавляет письмо в СПАМ
5. p=reject отклоняет письмо
6. sp отвечает за субдомены и принимает такие же значения, как и p
7. aspf и adkim позволяют проверять соответствиям записям и могут принимать значения r и s, где r — relaxed более мягкая проверка, чем s — strict.
8. pct отвечает за кол-во писем, подлежащих фильтрации, указывается в процентах, например, pct=20 будет фильтровать 20% писем.
9. rua — позволяет отправлять ежедневные отчеты на email, пример: rua=mailto:postmaster@your.tld, так же можно указать несколько email через пробел (rua=mailto:postmaster@your.tld mailto:dmarc@your.tld)

DMARC запись добавляется для _dmarc.your.tld

Пример DMARC записи:
> v=DMARC1; p=none; rua=mailto:`postmaster@your.tld`
